<!DOCTYPE html>

{% extends 'cafe/base.html' %}
{% load staticfiles %}

{% block some_js %}
<script type="text/javascript" src="/static/scripts/sortByDropdown.js"></script>
{% endblock some_js %}
{% block title_block %}
	Cafes
{% endblock %}

{% block body_block %}

	<h2>
		All Cafes<br>
    <h2>Sort by:
       <select name="sort by" id="dropdown">
            <option value="avg_rating">Average rating</option>
            <option value="price">Price</option>
            <option value="service">Service</option>
            <option value="atmosphere">Atmosphere</option>
            <option value="quality">Quality</option>
            <option value="waiting_times">Waiting time</option>
        </select>
    </h2>
 	<div id="cafesmain">
    {% if errors %}
    			<strong>These are not the Cafes you are looking for.</strong>
    {%  else %}
      		{% if cafes %}
              <div id="avg_rating" class="group">
                  {% if by_average %}
                      {% for cafe in by_average %}
                          <a class="aa" href="{% url 'chosen_cafe' cafe.slug %}">{{ cafe.name }}</a><br>
						  <p class = 'avg_rating'>Average rating: {{ cafe.avg_rating }} out of 5</p><br>
                      {% endfor %}
                  {%  endif %}
              </div>
              <div id="price" class="group">
                    {% if by_price %}
        				        {% for cafe in by_price %}
                              <a class="aa" href="{% url 'chosen_cafe' cafe.slug %}">{{ cafe.name }}</a><br>
							  <p class = 'avg_rating'>Average rating: {{ cafe.avg_rating }} out of 5</p><br>
                        {% endfor %}
                    {%  endif %}
              </div>
              <div id="atmosphere" class="group">
                    {% if by_atmosphere %}
        				        {% for cafe in by_atmosphere %}
                              <a class="aa" href="{% url 'chosen_cafe' cafe.slug %}">{{ cafe.name }}</a><br>
							  <p class = 'avg_rating'>Average rating: {{ cafe.avg_rating }} out of 5</p><br>
        				        {% endfor %}
                    {%  endif %}
              </div>
               <div id="quality" class="group">
                    {% if by_quality %}
        				        {% for cafe in by_quality %}
                            <a class="aa" href="{% url 'chosen_cafe' cafe.slug %}">{{ cafe.name }}</a><br>
							<p class = 'avg_rating'>Average rating: {{ cafe.avg_rating }} out of 5</p><br>
        				        {% endfor %}
                    {%  endif %}
              </div>
              <div id="service" class="group">
                    {% if by_service %}
        				        {% for cafe in by_service %}
                            <a class="aa" href="{% url 'chosen_cafe' cafe.slug %}">{{ cafe.name }}</a><br>
							<p class = 'avg_rating'>Average rating: {{ cafe.avg_rating }} out of 5</p><br>
        				        {% endfor %}
                    {%  endif %}
              </div>
              <div id="waiting_times" class="group">
                    {% if by_waiting_times %}
        				        {% for cafe in by_waiting_times %}
                            <a class="aa" href="{% url 'chosen_cafe' cafe.slug %}">{{ cafe.name }}</a><br>
							<p class = 'avg_rating'>Average rating: {{ cafe.avg_rating }} out of 5</p><br>
        				        {% endfor %}
                    {%  endif %}
              </div>
      		{% else %}
      			<strong>There aren't any cafes registered.</strong>
      		{% endif %}

    {%  endif %}
	</div>
{% endblock %}
